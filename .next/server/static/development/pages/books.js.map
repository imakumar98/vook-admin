{"version":3,"file":"static\\development\\pages\\books.js","sources":["webpack:///webpack/bootstrap","webpack:///./components/Books/BookDeleteModal.js","webpack:///./components/Books/BookRow.js","webpack:///./lib/QueryMutations.js","webpack:///./lib/utilFunctions.js","webpack:///./pages/books.js","webpack:///external \"@babel/runtime/regenerator\"","webpack:///external \"graphql-tag\"","webpack:///external \"next/link\"","webpack:///external \"react\"","webpack:///external \"react-apollo\"","webpack:///external \"reactstrap\""],"sourcesContent":[" \t// The module cache\n \tvar installedModules = require('../../../ssr-module-cache.js');\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tvar threw = true;\n \t\ttry {\n \t\t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n \t\t\tthrew = false;\n \t\t} finally {\n \t\t\tif(threw) delete installedModules[moduleId];\n \t\t}\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n","import React from 'react';\r\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\r\n\r\nimport Link from 'next/link';\r\nimport {Mutation} from 'react-apollo';\r\nimport {DELETE_BOOK_MUTATION,GET_ALL_BOOKS_QUERY} from './../../lib/QueryMutations'; \r\n\r\n\r\nclass BookDeleteModal extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      modal: false,\r\n      bookId : this.props.bookId\r\n    };\r\n\r\n    this.toggle = this.toggle.bind(this);\r\n  }\r\n\r\n  toggle(e) {\r\n      e.preventDefault();\r\n    this.setState(prevState => ({\r\n      modal: !prevState.modal\r\n    }));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Link href=\"\"><a onClick={this.toggle}>REMOVE</a></Link>\r\n        <Modal isOpen={this.state.modal} toggle={this.toggle} className={this.props.className}>\r\n          <ModalHeader toggle={this.toggle}>Delete Confirmation</ModalHeader>\r\n          <ModalBody>\r\n            Are you sure you want to delete this book?\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Mutation mutation={DELETE_BOOK_MUTATION} variables={{id : this.state.bookId}} refetchQueries={[{query:GET_ALL_BOOKS_QUERY} ]}>\r\n                {(deleteBook,{loading,error})=>(\r\n                    <span>\r\n                        <Button color=\"danger\" onClick={async()=>{\r\n                            const res = await deleteBook();\r\n                            console.log(res);\r\n                        }}>\r\n                            {loading && 'DELETING'}\r\n                            {!loading && 'YES'}\r\n                        </Button>\r\n                        <Button color=\"secondary\" style={{marginLeft:'10px'}} onClick={this.toggle}>NO</Button>\r\n                    </span>\r\n                )}\r\n                \r\n            </Mutation>\r\n            </ModalFooter>\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BookDeleteModal;","import React from 'react'\r\nimport Link from 'next/link';\r\nimport {getCapitalizedString} from './../../lib/utilFunctions';\r\nimport BookDeleteModal from './BookDeleteModal';\r\n\r\nfunction BookRow({book}) {\r\n  return (\r\n    <tr>\r\n        <td># {book.sku}</td>\r\n        <td><img src={book.images[0].src} className=\"img-fluid\" style={{borderRadius:'0',width:'92px',height:'125px'}}></img></td>\r\n        <td>\r\n            <Link href=\"/book-edit\">\r\n                <a>\r\n                    {book.title}\r\n                </a>\r\n            </Link>\r\n        </td>\r\n        <td>{book.author}, {getCapitalizedString(book.publisher.name)}</td>\r\n        <td>{book.mrp}</td>\r\n        <td>{getCapitalizedString(book.category.name)}</td>\r\n        <td>{getCapitalizedString(book.type.name)}</td>\r\n        <td>{book.dateTime}</td>\r\n        <td>\r\n            \r\n            <Link href={'/book/edit?id='+book.id}><a>UPDATE</a></Link>&nbsp;&nbsp;\r\n            <br/><br/>\r\n            <BookDeleteModal bookId={book.id}/>\r\n            \r\n            \r\n        </td>\r\n        \r\n    </tr>\r\n  )\r\n}\r\n\r\nexport default BookRow\r\n","import gql from 'graphql-tag';\r\n\r\nconst GET_ALL_BOOKS_QUERY = gql`\r\n    query GET_ALL_BOOKS_QUERY {\r\n        getAllBooks{\r\n            id\r\n            title \r\n            author\r\n            dateTime \r\n            publisher{\r\n                name\r\n                discount\r\n            }\r\n            category{\r\n                name\r\n            }\r\n            type{\r\n                name\r\n            }\r\n            mrp\r\n            images{\r\n                src\r\n            }\r\n            sku\r\n        }\r\n    }\r\n    \r\n`;\r\n\r\nconst GET_PUBLISHERS_QUERY = gql`\r\n    query GET_PUBLISHERS_QUERY{\r\n        getPublishers{\r\n            id\r\n            name\r\n            discount\r\n            books{\r\n                id\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nconst GET_CATEGORIES_QUERY = gql`\r\n    query GET_CATEGORIES_QUERY{\r\n        getCategories{\r\n            id\r\n            name\r\n            books{\r\n                id\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nconst GET_TYPES_QUERY = gql`\r\n    query GET_TYPES_QUERY{\r\n        getTypes{\r\n            id\r\n            name\r\n            books{\r\n                id\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nconst CREATE_BOOK_MUTATION = gql`\r\n    mutation CREATE_BOOK_MUTATION(\r\n        $title: String!, \r\n        $author: String!, \r\n        $publisher: String!, \r\n        $type: String!, \r\n        $subject: String!, \r\n        $category: String!, \r\n        $edition: Int!, \r\n        $quantity: Int!, \r\n        $detail: String!, \r\n        $description: String\r\n        $mrp: Int!, \r\n        $tags: [String!],\r\n        $images: [String!],\r\n        $slug: String!){\r\n        createBook(\r\n            title: $title,\r\n            author: $author,\r\n            publisher: $publisher,\r\n            type: $type,\r\n            subject: $subject,\r\n            category: $category,\r\n            edition: $edition, \r\n            quantity: $quantity, \r\n            detail: $detail, \r\n            description: $description\r\n            mrp: $mrp, \r\n            tags: $tags, \r\n            images: $images, \r\n            slug: $slug\r\n         ){\r\n            id\r\n            title\r\n            mrp\r\n            detail\r\n            publisher{\r\n                name\r\n            }\r\n            slug\r\n        }\r\n    }\r\n`;\r\n\r\nconst DELETE_BOOK_MUTATION = gql`\r\n    mutation DELETE_BOOK($id:String!){\r\n        deleteBook(id:$id){\r\n            message\r\n        }\r\n    }\r\n`;\r\n\r\nconst GET_SINGLE_BOOK = gql`\r\n    query GET_SINGLE_BOOK($id:String!){\r\n        getSingleBook(id:$id){\r\n            id\r\n            title\r\n            publisher{\r\n                name\r\n            }\r\n            category{\r\n                name\r\n            }\r\n            type{\r\n                name\r\n            }\r\n            author\r\n            edition\r\n            tags{\r\n                text\r\n            }\r\n            images{\r\n                src\r\n            }\r\n            mrp\r\n            detail\r\n            description\r\n            quantity\r\n            slug\r\n            subject\r\n        }\r\n    }\r\n`;\r\n\r\nconst UPDATE_BOOK_MUTATION = gql`\r\n    mutation UPDATE_BOOK_MUTATION(\r\n        $id: String!,\r\n        $title: String!, \r\n        $author: String!, \r\n        $publisher: String!, \r\n        $type: String!, \r\n        $subject: String!, \r\n        $category: String!, \r\n        $edition: Int!, \r\n        $quantity: Int!, \r\n        $detail: String!, \r\n        $description: String\r\n        $mrp: Int!, \r\n        $tags: [String!],\r\n        $images: [String!],\r\n        $slug: String!){\r\n     updateBook(\r\n        id: $id,\r\n        title: $title,\r\n        author: $author,\r\n        publisher: $publisher,\r\n        type: $type,\r\n        subject: $subject,\r\n        category: $category,\r\n        edition: $edition, \r\n        quantity: $quantity, \r\n        detail: $detail, \r\n        description: $description\r\n        mrp: $mrp, \r\n        tags: $tags, \r\n        images: $images, \r\n        slug: $slug\r\n     ){\r\n        message\r\n     }   \r\n    }\r\n`;\r\n\r\nexport {\r\n    GET_CATEGORIES_QUERY,\r\n    GET_TYPES_QUERY,\r\n    GET_PUBLISHERS_QUERY,\r\n    \r\n    GET_ALL_BOOKS_QUERY,\r\n    GET_SINGLE_BOOK,\r\n    CREATE_BOOK_MUTATION,\r\n    DELETE_BOOK_MUTATION,\r\n    UPDATE_BOOK_MUTATION\r\n    \r\n};\r\n","module.exports = {\r\n    getCapitalizedString: function(string){\r\n        if(string=='ncert') return string.toUpperCase();\r\n        return string[0].toUpperCase() + string.slice(1);\r\n    },\r\n    titleToSlug: function(title){\r\n        return title.trim().toLowerCase().replace(/ /g,'-');\r\n    },\r\n    resetSelectElement: function(selectElement){\r\n        selectElement.selectedIndex = 0;\r\n    }\r\n}","import React, { Component } from 'react'\r\nimport Link from 'next/link';\r\nimport {Query} from 'react-apollo';\r\nimport {GET_ALL_BOOKS_QUERY} from './../lib/QueryMutations';\r\nimport Book from './../components/Books/BookRow';\r\n\r\n\r\nclass books extends Component {\r\n  render() {\r\n    return (\r\n        <Query query={GET_ALL_BOOKS_QUERY}>\r\n            {({data,error,loading})=>{\r\n                if(error) return <p>Error</p>\r\n                if(loading) return <p>Loading</p>\r\n                console.log(data);\r\n                return (\r\n                    <div className=\"row\">\r\n                    <div className=\"col-12 grid-margin\">\r\n                        <div className=\"card\">\r\n                            <div className=\"card-header\">\r\n                                <h4 className=\"text-center\" style={{marginBottom:'50px'}}>ALL BOOKS</h4>\r\n                                <div className=\"pull-right\">\r\n                                <Link prefetch href=\"/book/add\">\r\n                                    <a className=\"btn btn-primary btn-fw\">ADD BOOK</a>\r\n                                </Link>{'  '}\r\n                                <Link prefetch href=\"/book/add\">\r\n                                    <a className=\"btn btn-primary btn-fw\">ADD SET</a>\r\n                                </Link>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"card-body\">\r\n                                <div className=\"form-sample\">\r\n                                    \r\n                                    <div className=\"row\">\r\n                                        <div className=\"table-responsive\">\r\n                                            <table className=\"table\">\r\n                                                <thead>\r\n                                                    <tr>\r\n                                                        <th>SKU</th>\r\n                                                        <th>Image</th>\r\n                                                        <th>Title</th>\r\n                                                        <th>Author/Publisher</th>\r\n                                                        <th>MRP</th>\r\n                                                        <th>Category</th>\r\n                                                        <th>Type</th>\r\n                                                        <th>Date</th>\r\n                                                        <th>Action</th>\r\n                                                    </tr>\r\n                                                </thead>\r\n                                                <tbody>\r\n                                                    {/* {!data.getAllBooks && <tr><td><p>You have 0 Book In database</p></td></tr>}\r\n                                                    {data.getAllBooks.length==0 && <p>You Have 0 Books In Database</p>} */}\r\n                                                    {data.getAllBooks.map((book,index)=><Book book={book} key={index} />)}\r\n                                                    {loading && <p>Loading...</p>}\r\n                                                </tbody>\r\n                                            </table>\r\n                                        </div>\r\n                                    </div>\r\n                                    <br/><br/>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                );\r\n            }}\r\n        </Query>\r\n    \r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default books;\r\n","module.exports = require(\"@babel/runtime/regenerator\");","module.exports = require(\"graphql-tag\");","module.exports = require(\"next/link\");","module.exports = require(\"react\");","module.exports = require(\"react-apollo\");","module.exports = require(\"reactstrap\");"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxFA;AACA;AAEA;AACA;AACA;AACA;AAEA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAKA;AAPA;AAQA;AACA;;;AACA;AACA;AACA;AAAA;AACA;AADA;AAAA;AAGA;;;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AATA;AAkBA;;;;AA/CA;AACA;AAiDA;;;;;;;;;;;;;;;;;;;;;AC1DA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnCA;AAEA;AA2BA;AAaA;AAYA;AAYA;AA4CA;AAQA;AAgCA;;;;;;;;;;;;ACtJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;;;;;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAIA;;;;AA9DA;AACA;AAiEA;;;;;;;;;;;;;;;;;;;;;;;ACzEA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;A","sourceRoot":""}